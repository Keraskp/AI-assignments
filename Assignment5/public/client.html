<!DOCTYPE html>
<html>

<head>
	<title>AI assignment 5</title>

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@600;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">

</head>

<body>
	<div class="color-board">
		<h1 class="title">AI assignment 5</h1>
		<h1 class="heading">Color Picker</h1>
		<!-- <div class="row">
			<div id="circle"></div>
		</div> -->
		<div class="row">
			<button id="button1" class="button" onclick="changeColor(this)"></button>
			<button id="button2" class="button" onclick="changeColor(this)"></button>
			<button id="button3" class="button" onclick="changeColor(this)"></button>
			<button id="button4" class="button" onclick="changeColor(this)"></button>
			<button id="button5" class="button" onclick="changeColor(this)"></button>
		</div>

		<div class="row">
			<button id="button6" class="button" onclick="changeColor(this)"></button>
			<button id="button7" class="button" onclick="changeColor(this)"></button>
			<button id="button8" class="button" onclick="changeColor(this)"></button>
			<button id="button9" class="button" onclick="changeColor(this)"></button>
			<button id="button10" class="button" onclick="changeColor(this)"></button>
		</div>

		<div class="row">
			<button id="button11" class="button" onclick="changeColor(this)"></button>
			<button id="button12" class="button" onclick="changeColor(this)"></button>
			<button id="button13" class="button" onclick="changeColor(this)"></button>
			<button id="button14" class="button" onclick="changeColor(this)"></button>
			<button id="button15" class="button" onclick="changeColor(this)"></button>
		</div>
	</div>
</body>
<script>
	// Create WebSocket connection.
	const socket = new WebSocket('ws://192.168.1.3:3000');

	// Connection opened
	socket.addEventListener('open', function (event) {
		console.log('Connected to WS Server')
	});

	// Listen for messages
	socket.addEventListener('message', function (event) {
		console.log('Message from server ', event.data);
	});

	const changeColor = (btn) => {
		var myBtn = document.getElementById(btn.id);
		var style = getComputedStyle(myBtn);
		const color = style.backgroundColor;
		// alert(color);
		socket.send(color);
	}
</script>

</html>